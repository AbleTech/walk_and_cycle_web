!function(){var t=function(t,n){return function(){return t.apply(n,arguments)}},n={}.hasOwnProperty,o=function(t,o){function e(){this.constructor=t}for(var r in o)n.call(o,r)&&(t[r]=o[r]);return e.prototype=o.prototype,t.prototype=new e,t.__super__=o.prototype,t};define(["backbone","app/models/point_of_interest"],function(n,e){var r,i;return r=function(n){function r(){return this.updateMap=t(this.updateMap,this),i=r.__super__.constructor.apply(this,arguments)}return o(r,n),r.prototype.model=e,r.prototype.url=function(){return"http://staging.journeyplanner.org.nz/api/poi.json?callback=?&bounds="+this.bounds+"&zoom="+this.zoom},r.prototype.setMap=function(t){return null!=t?this.show():this.hide()},r.prototype.show=function(){return this.forEach(function(t){return t.enter()}),this.updateMap(),this.listener=google.maps.event.addListener(App.map,"idle",this.updateMap)},r.prototype.updateMap=function(){var t;return t=App.map,null!=t.getBounds()?(this.bounds=t.getBounds().toUrlValue(),this.zoom=t.getZoom(),this.fetch()):void 0},r.prototype.hide=function(){return this.listener&&google.maps.event.removeListener(this.listener),this.forEach(function(t){return t.exit()})},r}(n.Collection)})}.call(this);