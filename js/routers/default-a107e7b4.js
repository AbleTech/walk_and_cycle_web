!function(){var e,n={}.hasOwnProperty,o=function(e,o){function r(){this.constructor=e}for(var t in o)n.call(o,t)&&(e[t]=o[t]);return r.prototype=o.prototype,e.prototype=new r,e.__super__=o.prototype,e};JourneyPlanner.DefaultRouter=function(n){function r(){return e=r.__super__.constructor.apply(this,arguments)}return o(r,n),r.prototype.routes={"*query_string":"loadJourney"},r.prototype.loadJourney=function(){var e,n,o;return e=$.deparam.querystring(),null!=(n=this.journey)&&n.hideOverlays(),null!=e.example?(this.journey=new JourneyPlanner.Models.Journey({example:e.example}),this.journey.waypoints.add([{},{}])):(this.journey=new JourneyPlanner.Models.Journey({mode:e.mode}),(null!=(o=e.waypoints)?o.length:void 0)>=2?this.journey.waypoints.add(_(e.waypoints).compact()):(this.journey.waypoints.add([{},{}]),JourneyPlanner.App.showExamples())),this.renderJourney()},r.prototype.renderJourney=function(){return JourneyPlanner.App.resultsRegion.show(new JourneyPlanner.Views.Sidebar({model:this.journey,collection:this.journey.steps})),JourneyPlanner.App.journeyFields.show(new JourneyPlanner.Views.JourneyForm({model:this.journey,collection:this.journey.waypoints})),JourneyPlanner.App.detailContent.show(new JourneyPlanner.Views.DetailsContent({model:this.journey})),this.journey.isValid()?($("#global_loading_indicator").show(),this.journey.fetch({success:function(){return $("#global_loading_indicator").hide()}})):void 0},r}(Backbone.Router)}.call(this);