!function(){var e={}.hasOwnProperty,o=function(o,n){function t(){this.constructor=o}for(var r in n)e.call(n,r)&&(o[r]=n[r]);return t.prototype=n.prototype,o.prototype=new t,o.__super__=n.prototype,o};define(["backbone","jquery","app/models/journey","app/views/composites/sidebar","app/views/composites/journey_form","app/views/items/details_content","jquery.bbq"],function(e,n,t,r,i,s){var u,p;return u=function(e){function u(){return p=u.__super__.constructor.apply(this,arguments)}return o(u,e),u.prototype.routes={"*query_string":"loadJourney"},u.prototype.loadJourney=function(){var e,o,r;return e=n.deparam.querystring(),null!=(o=this.journey)&&o.hideOverlays(),null!=e.example?(this.journey=new t({example:e.example}),this.journey.waypoints.add([{},{}])):(this.journey=new t({mode:e.mode}),(null!=(r=e.waypoints)?r.length:void 0)>=2?this.journey.waypoints.add(_(e.waypoints).compact()):(this.journey.waypoints.add([{},{}]),App.showExamples())),this.renderJourney()},u.prototype.renderJourney=function(){return App.resultsRegion.show(new r({model:this.journey,collection:this.journey.steps})),App.journeyFields.show(new i({model:this.journey,collection:this.journey.waypoints})),App.detailContent.show(new s({model:this.journey})),this.journey.isValid()?(n("#global_loading_indicator").show(),this.journey.fetch({success:function(){return n("#global_loading_indicator").hide()}})):void 0},u}(e.Router)})}.call(this);