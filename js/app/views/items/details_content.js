!function(){var t={}.hasOwnProperty,e=function(e,r){function o(){this.constructor=e}for(var n in r)t.call(r,n)&&(e[n]=r[n]);return o.prototype=r.prototype,e.prototype=new o,e.__super__=r.prototype,e};define(["jquery","underscore","marionette","lib/elevation_graph","app/views/items/weather_panel","underscore.string"],function(t,r,o,n){var a,i;return a=function(o){function a(){return i=a.__super__.constructor.apply(this,arguments)}return e(a,o),a.prototype.className="tab-content",a.prototype.template=JST["app/templates/details_content"],a.prototype.events={"keyup #weight":"calculateCalories","change #weight":"calculateCalories"},a.prototype.modelEvents={sync:"render","change:pace":"calculateCalories"},a.prototype.onRender=function(){return t(".details_panel a:first").tab("show"),this.model.get("elevation")?this.graph=new n(t("#elevation_graph",this.el)[0],this.model):void 0},a.prototype.calculateCalories=function(){var e;return e=parseFloat(t("#weight",this.el).val()),0/0!==e&&t.cookie("jp_weight",e),t(".calorie_result",this.el).html(this.model.calculate_calories(e))},a.prototype.yearMultiplier=312,a.prototype.templateHelpers=function(){var e=this;return{initialWeight:function(){return t.cookie("jp_weight")||70},initialCalories:function(){var r;return r=t.cookie("jp_weight")||70,e.model.calculate_calories(r)},healthCost:function(){return"$"+r.str.numberFormat(e.model.health_cost(),2)},healthCostYear:function(){return"$"+r.str.numberFormat(e.model.health_cost()*e.yearMultiplier,2)},carCost:function(){return"$"+r.str.numberFormat(e.model.car_cost(),2)},carCostYear:function(){return"$"+r.str.numberFormat(e.model.car_cost()*e.yearMultiplier,2)},carbonSaving:function(){return r.str.sprintf("%.1fkg",e.model.carbon_saving())},carbonSavingYear:function(){return r.str.sprintf("%.1fkg",e.model.carbon_saving()*e.yearMultiplier)}}},a}(o.ItemView)})}.call(this);