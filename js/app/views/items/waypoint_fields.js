!function(){var t={}.hasOwnProperty,e=function(e,o){function r(){this.constructor=e}for(var n in o)t.call(o,n)&&(e[n]=o[n]);return r.prototype=o.prototype,e.prototype=new r,e.__super__=o.prototype,e};define(["jquery","marionette","lib/search_widget"],function(t,o,r){var n,p;return n=function(o){function n(){return p=n.__super__.constructor.apply(this,arguments)}return e(n,o),n.prototype.tagName="div",n.prototype.className="control-group",n.prototype.template=JST["app/templates/waypoint_fields"],n.prototype.modelEvents={change:"render",update_point:"submitForm"},n.prototype.events={"click a.close":"removeWaypoint"},n.prototype.onRender=function(){var e,o;return o="waypoint_"+this.model.index(),e=t("#"+o+"_a",this.el)[0],new r(e,{prefix:o})},n.prototype.templateHelpers=function(){var t=this;return{fieldIndex:function(){return t.model.index()},showClose:function(){return t.model.collection.length>2}}},n.prototype.removeWaypoint=function(){return this.model.collection.remove(this.model),!1},n.prototype.submitForm=function(){return t(this.el).parents("form").submit()},n}(o.ItemView)})}.call(this);