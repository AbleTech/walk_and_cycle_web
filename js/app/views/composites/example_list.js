!function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,o=function(e,o){function r(){this.constructor=e}for(var n in o)t.call(o,n)&&(e[n]=o[n]);return r.prototype=o.prototype,e.prototype=new r,e.__super__=o.prototype,e};define(["jquery","underscore","marionette","app/views/items/example_item","app/collections/example_journeys"],function(t,r,n,i,p){var a,s;return a=function(n){function a(){return this.resetData=e(this.resetData,this),s=a.__super__.constructor.apply(this,arguments)}return o(a,n),a.prototype.itemView=i,a.prototype.itemViewContainer="ol",a.prototype.template=JST["app/templates/example_list"],a.prototype.mode="walking",a.prototype.events={"click #example_modes a":"updateMode"},a.prototype.initialize=function(){var e=this;return this.collection=new p(this.filteredData()),App.all_examples.on("sync",function(){return e.collection.reset(e.filteredData()),e.collection.showOverlays(App.map)}),a.__super__.initialize.apply(this,arguments)},a.prototype.filteredData=function(){var e;return e={mode:this.mode},App.current_region&&(e.region_id=parseInt(App.current_region)),r(App.all_examples.where(e)).collect(function(e){return e.toJSON()})},a.prototype.updateMode=function(e){return this.mode=t(e.target).data("mode"),t("#example_modes a").removeClass("selected"),t(e.target).addClass("selected"),this.resetData(!0),!1},a.prototype.resetData=function(e){return null==e&&(e=!1),this.collection.hideOverlays(),this.collection.reset(this.filteredData()),this.collection.showOverlays(App.map),e?App.map.fitBounds(this.collection.boundingBox()):void 0},a.prototype.templateHelpers=function(){var e=this;return{modeSelected:function(t){return e.mode===t?"selected":""}}},a}(n.CompositeView)})}.call(this);